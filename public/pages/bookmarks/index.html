<!DOCTYPE html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.143.0">

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="" />
  <meta property="og:url" content="http://localhost:1313/pages/bookmarks/" />
  <link rel="canonical" href="http://localhost:1313/pages/bookmarks/" /><link rel="apple-touch-icon" href="/favicon.ico" />
  <link rel="icon" href="/favicon.ico" />
  <link rel="shortcut icon" href="/favicon.ico" /><link
    rel="alternate"
    type="application/atom+xml"
    href="http://localhost:1313/index.xml"
    title="UN-aligned"
  />

  <script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "http:\/\/localhost:1313\/"
      },
      "articleSection" : "pages",
      "name" : "My Bookmarks",
      "headline" : "My Bookmarks",
      "description" : "My Bookmarked Articles",
      "inLanguage" : "en-UK",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2025",
      "datePublished": "2025-05-09 10:00:00 \u002b0300 EEST",
      "dateModified" : "2025-05-09 10:00:00 \u002b0300 EEST",
      "url" : "http:\/\/localhost:1313\/pages\/bookmarks\/",
      "keywords" : [  ]
  }
</script>
<title>My Bookmarks</title>
  <meta property="og:title" content="My Bookmarks" />
  <meta property="og:type" content="article" />
  <meta
    property="og:description"
    content="My Bookmarked Articles"
  />
  <meta
    name="description"
    content="My Bookmarked Articles"
  />

  <meta property="og:locale" content="en-uk" />
  <meta property="og:site_name" content="UN-aligned" /><meta property="og:image" content="/images/un-aligned-default-social.jpg" />
  <meta property="og:image:alt" content="UN-aligned" />
  
  
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="My Bookmarks" />
  <meta name="twitter:description" content="My Bookmarked Articles" /><meta name="twitter:image" content="/images/un-aligned-default-social.jpg" />

  
            
     
  
   
  <link rel="stylesheet" href="/css/styles.css" />
  

   
  <link rel="stylesheet" href="/css/single.css" />
  
  
  
  
  
  
   
  <link rel="stylesheet" href="/css/comment-separator.css" />
  

  
  
  
  
   
    
    <link rel="stylesheet" href="/css/drop-cap.css" />
  
  
  
  
  
  

  
  
  

  
   
  <link rel="stylesheet" href="/css/dark-mode.css" />
  

  
   
  <link rel="stylesheet" href="/css/mega-menu.css" />
  

  
   
  <link rel="stylesheet" href="/css/text-size-adjuster.css" />
  
  
  
    
  

  
  <script src="http://localhost:1313/js/simple-dark-mode.js" type="text/javascript"></script>

  
  <link href="/index.xml"
  rel="alternate" type="application/rss+xml" title="UN-aligned" />

  
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link
    href="https://fonts.googleapis.com/css?family=Bree+Serif|Bungee+Shade|Open+Sans:300,400,500,600,700&display=swap"
    rel="stylesheet"
  />

   

  
  
</head>


  <body>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    


<div class="site-alert" id="site-alert">
  <div class="alert-container">
    <span class="alert-text">Welcome to the new UN-Aligned site! Some bugs and missing content are being fixed.</span>
    <button class="alert-close" onclick="closeSiteAlert()" aria-label="Close alert">&times;</button>
  </div>
</div>

<header class="site-header">
  <div class="header-container">
    <div class="header-two-columns">
    
    <div class="header-left-column">
      <div class="header-title">
        <a href="/">
          <img
            src="/images/logo.png"
            alt="logo"
            class="header-logo"
          />
        </a>
      </div>
      <div class="header-subtitle">Putting humanity before nationality and planet before greed</div>
    </div>
    
    
    <div class="header-right-column">
      
      <div class="header-bottom-section">
        
        <div class="header-top-buttons">
          <div class="header-items">
            <div class="header-item">
              <button
                id="menu-popup-toggle"
                class="header-button"
                title="Menu"
                type="button"
              >
                Menu ‚ò∞
              </button>
            </div>
            <div class="header-item">
              <a href="/pages/bookmarks/" title="My Bookmarks" class="header-button"
                >Bookmarks üìå</a
              >
            </div>
            <div class="header-item">
              <button
                class="simple-dark-toggle header-button"
                title="Toggle Dark/Light Mode"
                type="button"
                onclick="toggleDarkMode()"
              >
                <span class="dark-icon">Dark üåô</span>
                <span class="light-icon">Light ‚òÄÔ∏è</span>
              </button>
            </div>
          
          </div>
        </div>
        
        
        <div class="header-bottom-categories">
          <div class="scroll-indicator-left"></div>
          <div class="scroll-indicator-right"></div>
          <div class="category-nav">
          
          
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/gordian/" class="category-link">Magazine</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/un-in-focus/" class="category-link">UN in Focus</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/comments/" class="category-link">Comments</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/culture/" class="category-link">Culture</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/gallery/" class="category-link">Gallery</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/human-rights/" class="category-link">Human Rights</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/climate-emergency/" class="category-link">Climate Emergency</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/interview/" class="category-link">Interview</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/science/" class="category-link">Science</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/news/" class="category-link">News</a>
              
            </div>
          
            <div class="category-nav-item">
              
                <a href="http://localhost:1313/categories/global-issues/" class="category-link">Global Issues</a>
              
            </div>
          
          
            <div class="category-nav-item">
              <a href="http://localhost:1313/categories/" class="category-link">All Categories</a>
            </div>
          
        </div>
      </div>

      
      
<div id="mega-menu-popup" class="mega-menu-popup">
  <div class="mega-menu-content">
    <div class="mega-menu-header">
      <ul class="mega-menu-title">
        <li>Menu</li>
      </ul>
      <button id="close-menu-popup" class="close-menu-button" aria-label="Close menu">√ó</button>
    </div>
    <div class="mega-menu-columns">
      
      <div class="mega-menu-column">
        <ul class="mega-menu-links">
          <li class="mega-menu-section-title">Get to know us</li>
          
          <li>
            
              <a href="http://localhost:1313/">Home</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/get-involved">Get Involved</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/frequently-asked-questions">What is UN-aligned? Read our FAQ</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/our-essence-and-foundation">Mission statement</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/manifesto">Manifesto</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/the-alternative-un">As an Alternative UN</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/search">Search üîé</a>
            
          </li>
          
        </ul>
      </div>
      
      <div class="mega-menu-column">
        <ul class="mega-menu-links">
          <li class="mega-menu-section-title">Special Sections</li>
          
          <li>
            
              <a href="http://localhost:1313/opportunities/write-for-un-aligned">Write for UN-aligned</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/register">Become a Member</a>
            
          </li>
          
          <li>
            
              <a href="https://donorbox.org/support-the-publication-of-the-gordian-magazine" target="_blank" rel="noopener noreferrer">Donate</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/authors">Authors</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/categories">All Categories</a>
            
          </li>
          
          <li>
            
              <a href="http://localhost:1313/tags">All tags</a>
            
          </li>
          
          <li>
            
              <a href="https://forms.gle/EpgdZ3Czt7MDbQty5" target="_blank" rel="noopener noreferrer">Report bug</a>
            
          </li>
          
        </ul>
      </div>
      
      
      
      <div class="mega-menu-column gordian-feature">
        <ul class="mega-menu-links">
          <li class="mega-menu-section-title">Latest Gordian Issue</li>
          
          
            <li class="gordian-cover">
              <img src="/images/issue-1-vol-7-scaled.jpg" alt="Gordian Issue 1 Cover">
            </li>
            <li class="gordian-buttons">
              <a href="http://localhost:1313/gordian/issue-1/" class="gordian-button current-issue">Read Issue 1</a>
              <a href="http://localhost:1313/gordian/" class="gordian-button past-issues">Past Issues</a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
</div>

    
    </div>
  </div>
</header>


<script>
  
  function closeSiteAlert() {
    const alert = document.getElementById('site-alert');
    if (alert) {
      alert.style.display = 'none';
      
      localStorage.setItem('siteAlertClosed', 'true');
    }
  }

  document.addEventListener('DOMContentLoaded', function() {
    
    if (localStorage.getItem('siteAlertClosed') === 'true') {
      const alert = document.getElementById('site-alert');
      if (alert) {
        alert.style.display = 'none';
      }
    }

    
    const navContainer = document.querySelector('.category-nav');
    const leftIndicator = document.querySelector('.scroll-indicator-left');
    const rightIndicator = document.querySelector('.scroll-indicator-right');
    
    if (navContainer && leftIndicator && rightIndicator) {
      
      function updateScrollIndicators() {
        
        if (navContainer.scrollLeft > 0) {
          leftIndicator.style.opacity = '1';
        } else {
          leftIndicator.style.opacity = '0';
        }
        
        
        if (navContainer.scrollLeft < (navContainer.scrollWidth - navContainer.clientWidth - 2)) {
          rightIndicator.style.opacity = '1';
        } else {
          rightIndicator.style.opacity = '0';
        }
      }
      
      
      updateScrollIndicators();
      
      
      navContainer.addEventListener('scroll', updateScrollIndicators);
      
      
      window.addEventListener('resize', updateScrollIndicators);
    }
    
    
    const menuButton = document.getElementById('menu-popup-toggle');
    const closeButton = document.getElementById('close-menu-popup');
    const menuPopup = document.getElementById('mega-menu-popup');
    
    if (menuButton && menuPopup) {
      
      menuButton.addEventListener('click', function() {
        menuPopup.classList.toggle('active');
        document.body.classList.toggle('menu-open');
        
        
        if (menuPopup.classList.contains('active')) {
          menuButton.innerHTML = 'Close √ó';
          menuButton.setAttribute('title', 'Close menu');
          menuButton.classList.add('active');
        } else {
          menuButton.innerHTML = 'Menu ‚ò∞';
          menuButton.setAttribute('title', 'Open menu');
          menuButton.classList.remove('active');
        }
      });
      
      
      if (closeButton) {
        closeButton.addEventListener('click', function() {
          menuPopup.classList.remove('active');
          document.body.classList.remove('menu-open');
          menuButton.innerHTML = 'Menu ‚ò∞';
          menuButton.setAttribute('title', 'Open menu');
          menuButton.classList.remove('active');
        });
      }
      
      
      document.addEventListener('click', function(e) {
        if (
          menuPopup.classList.contains('active') && 
          !menuPopup.contains(e.target) && 
          e.target !== menuButton
        ) {
          menuPopup.classList.remove('active');
          document.body.classList.remove('menu-open');
          menuButton.innerHTML = 'Menu ‚ò∞';
          menuButton.setAttribute('title', 'Open menu');
          menuButton.classList.remove('active');
        }
      });
      
      
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && menuPopup.classList.contains('active')) {
          menuPopup.classList.remove('active');
          document.body.classList.remove('menu-open');
          menuButton.innerHTML = 'Menu ‚ò∞';
          menuButton.setAttribute('title', 'Open menu');
          menuButton.classList.remove('active');
        }
      });
    }
  });
</script>


    
    <div class="site-container">
      <article class="posts">
        <div class="row">
          <div class="col-xs-12">

          
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
          
          
          
          <header>
            <h1 class="taxonomy-term">
              <svg class="bookmark-icon" width="20" height="24" viewBox="0 0 16 20" aria-hidden="true" focusable="false">
                <path d="M0 0v20l8-6 8 6V0H0z" fill="currentColor"/>
              </svg> 
              My Bookmarks
            </h1>
          </header>

          <div class="bookmark-actions">
            <div class="bookmarks-sorting">
              <label for="sort-bookmarks" class="btn btn-secondary" aria-label="Sort bookmarks by">
                <i class="fas fa-sort" aria-hidden="true"></i> Sort by
              </label>
              <select id="sort-bookmarks" class="btn btn-secondary sort-select" aria-label="Sort bookmarks by">
                <option value="added-month">Date Added</option>
                <option value="tag">Category</option>
                <option value="author">Author</option>
                <option value="original-date">Date Written</option>
              </select>
            </div>

            <div class="bookmark-utils">
              <button id="exportBookmarks" class="btn btn-secondary" aria-label="Export your bookmarks to a file">
                <i class="fas fa-download" aria-hidden="true"></i> Export
              </button>
              <input type="file" id="importBookmarks" accept=".json" aria-label="Import bookmarks from a file" style="display: none">
              <label for="importBookmarks" class="btn btn-secondary" tabindex="0" role="button">
                <i class="fas fa-upload" aria-hidden="true"></i> Import
              </label>
            </div>
          </div>

          <div id="no-bookmarks" style="display: none">
            <p>You haven't bookmarked any articles yet.</p>
            <p>
              Browse our articles and click the bookmark icon in the sidebar to add
              them to your bookmarks.
            </p>
          </div>

          <main id="bookmarks-list" aria-live="polite">
            
          </main>
        </div>
      </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        

        class BookmarksManager {
          constructor() {
            
            this.bookmarksList = document.getElementById("bookmarks-list");
            this.noBookmarks = document.getElementById("no-bookmarks");
            this.sortSelect = document.getElementById("sort-bookmarks");
            this.exportBtn = document.getElementById("exportBookmarks");
            this.importInput = document.getElementById("importBookmarks");
            
            
            this.authorImageCache = new Map();
            
            
            this.categoryClasses = {
              "gallery": "has-gallery",
              "culture": "has-culture",
              "interview": "has-interview",
              "technology": "has-technology",
              "science": "has-science",
              "politics": "has-politics",
              "environment": "has-environment",
              "comments": "has-comments"
            };
            
            
            this.bookmarks = this.getBookmarks();
            
            
            this.renderBookmarks = this.renderBookmarks.bind(this);
            this.exportBookmarks = this.exportBookmarks.bind(this);
            this.importBookmarks = this.importBookmarks.bind(this);
            
            
            this.init();
          }
          
          

          init() {
            
            this.normalizeBookmarkIds();
            
            
            if (this.sortSelect) {
              this.sortSelect.addEventListener("change", () => {
                this.renderBookmarks(this.sortSelect.value);
              });
            }
            
            if (this.exportBtn) {
              this.exportBtn.addEventListener("click", this.exportBookmarks);
            }
            
            if (this.importInput) {
              this.importInput.addEventListener("change", this.importBookmarks);
            }
            
            
            document.querySelectorAll(".category-link").forEach(link => {
              link.addEventListener("click", e => {
                const href = link.getAttribute("href");
                if (window.location.pathname !== "/" && href.includes("#")) {
                  e.preventDefault();
                  window.location.href = href;
                }
              });
            });
            
            
            if (this.bookmarks.length === 0) {
              this.noBookmarks.style.display = "block";
              return;
            }
            
            
            this.renderBookmarks(this.sortSelect.value);
          }
          
          

          getBookmarks() {
            return JSON.parse(localStorage.getItem("bookmarkedArticles") || "[]");
          }
          
          

          saveBookmarks(bookmarks) {
            localStorage.setItem("bookmarkedArticles", JSON.stringify(bookmarks));
            this.bookmarks = bookmarks;
          }
          
          

          normalizePath(path) {
            return path.endsWith("/") ? path : path + "/";
          }
          
          

          normalizeBookmarkIds() {
            const normalized = this.bookmarks.map(article => {
              article.id = this.normalizePath(article.id);
              return article;
            });
            
            this.saveBookmarks(normalized);
          }
          
          

          formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString("en-US", {
              year: "numeric",
              month: "long",
              day: "numeric",
            });
          }
          
          

          getMonthYear(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString("en-US", {
              year: "numeric",
              month: "long",
            });
          }
          
          

          getYear(dateString) {
            const date = new Date(dateString);
            return date.getFullYear().toString();
          }
          
          

          urlizeAuthor(authorName) {
            if (!authorName) return 'anonymous';
            return authorName.toLowerCase()
              .replace(/\s+/g, '-')
              .replace(/[^\w-]/g, '');
          }
          
          

          renderBookmarks(sortCriteria) {
            
            this.bookmarksList.innerHTML = "";
            
            
            switch (sortCriteria) {
              case "added-year":
                this.renderByAddedYear();
                break;
              case "added-month":
                this.renderByAddedMonth();
                break;
              case "original-date":
                this.renderByOriginalDate();
                break;
              case "author":
                this.renderByAuthor();
                break;
              case "tag":
                this.renderByTag();
                break;
              default:
                this.renderByAddedMonth(); 
            }
          }
          
          

          renderByAddedYear() {
            const groupedBookmarks = this.groupBookmarksByFunction(article => {
              const addedDate = new Date(article.addedAt);
              return addedDate.getFullYear().toString();
            });
            
            
            const sortedYears = Object.keys(groupedBookmarks).sort().reverse();
            
            
            sortedYears.forEach(year => {
              
              const articlesForYear = groupedBookmarks[year].sort(
                (a, b) => new Date(b.addedAt) - new Date(a.addedAt)
              );
              
              this.renderGroup(year, articlesForYear, "year");
            });
          }
          
          

          renderByAddedMonth() {
            const groupedBookmarks = this.groupBookmarksByFunction(article => 
              this.getMonthYear(article.addedAt)
            );
            
            
            const sortedMonthYears = Object.keys(groupedBookmarks).sort(
              (a, b) => new Date(b) - new Date(a)
            );
            
            
            sortedMonthYears.forEach(monthYear => {
              
              const articlesForMonth = groupedBookmarks[monthYear].sort(
                (a, b) => new Date(b.addedAt) - new Date(a.addedAt)
              );
              
              this.renderGroup(monthYear, articlesForMonth, "month");
            });
          }
          
          

          renderByOriginalDate() {
            const groupedBookmarks = this.groupBookmarksByFunction(article => {
              if (!article.date) return null; 
              return this.getYear(article.date);
            });
            
            
            const sortedYears = Object.keys(groupedBookmarks).sort().reverse();
            
            
            sortedYears.forEach(year => {
              
              const articlesForYear = groupedBookmarks[year].sort(
                (a, b) => new Date(b.date) - new Date(a.date)
              );
              
              this.renderGroup(year, articlesForYear, "written in");
            });
          }
          
          

          renderByAuthor() {
            const groupedBookmarks = this.groupBookmarksByFunction(article => {
              
              let author = (article.author || "").trim();
              return author || "Unknown Author";
            });
            
            
            const sortedAuthors = Object.keys(groupedBookmarks).sort((a, b) => {
              if (a === "Unknown Author") return 1;
              if (b === "Unknown Author") return -1;
              if (a === "Loading...") return 1;
              if (b === "Loading...") return -1;
              return a.localeCompare(b);
            });
            
            
            sortedAuthors.forEach(author => {
              
              const articlesForAuthor = groupedBookmarks[author].sort(
                (a, b) => new Date(b.addedAt) - new Date(a.addedAt)
              );
              
              this.renderGroup(author, articlesForAuthor, "author");
            });
          }
          
          

          renderByTag() {
            const groupedBookmarks = this.groupBookmarksByFunction(article => {
              
              return (article.categories && article.categories.length > 0)
                ? article.categories[0]
                : "Uncategorized";
            });
            
            
            const sortedCategories = Object.keys(groupedBookmarks).sort();
            
            
            sortedCategories.forEach(category => {
              
              const articlesForCategory = groupedBookmarks[category].sort(
                (a, b) => new Date(b.addedAt) - new Date(a.addedAt)
              );
              
              this.renderGroup(category, articlesForCategory, "category");
            });
          }
          
          

          groupBookmarksByFunction(keyFn) {
            const grouped = {};
            
            this.bookmarks.forEach(article => {
              const key = keyFn(article);
              if (!key) return; 
              
              if (!grouped[key]) {
                grouped[key] = [];
              }
              
              grouped[key].push(article);
            });
            
            return grouped;
          }
          
          

          renderGroup(groupName, articles, groupType) {
            
            const section = document.createElement("section");
            section.className = "category-section";
            
            
            if (groupType === "category") {
              const categoryLower = groupName.toLowerCase();
              section.dataset.category = categoryLower;
              section.id = categoryLower;
              section.setAttribute("aria-labelledby", `heading-${categoryLower}`);
            } else {
              const groupId = `${groupType}-${groupName.replace(/\s+/g, "-").toLowerCase()}`;
              section.setAttribute("aria-labelledby", `heading-${groupId}`);
            }
            
            
            const headingId = `heading-${groupType}-${groupName.replace(/\s+/g, "-").toLowerCase()}`;
            section.innerHTML = `
              <div class="category-header">
                <h2 class="site-date-catalog" id="${headingId}">${groupName}</h2>
              </div>
              <div class="article-grid category-grid" id="${groupType}-${groupName
                .replace(/\s+/g, "-")
                .toLowerCase()}"></div>
            `;
            
            
            if (groupType === "category") {
              const categoryLower = groupName.toLowerCase();
              const anchorId = categoryLower.replace(/\s+/g, "-");
              
              if (!document.getElementById(anchorId) && anchorId !== categoryLower) {
                const anchorDiv = document.createElement("div");
                anchorDiv.id = anchorId;
                section.insertBefore(anchorDiv, section.firstChild);
              }
            }
            
            
            this.bookmarksList.appendChild(section);
            
            
            const grid = document.getElementById(
              `${groupType}-${groupName.replace(/\s+/g, "-").toLowerCase()}`
            );
            
            
            articles.forEach(article => {
              this.renderArticleCard(article, grid);
            });
          }
          
          

          renderArticleCard(article, container) {
            
            const articleCard = document.createElement("div");
            articleCard.className = "article-card is-bookmarked";
            articleCard.dataset.id = article.id;
            
            
            articleCard.setAttribute("role", "article");
            
            
            if (article.style === "2" || article.style === 2) {
              articleCard.classList.add("style-2");
            }
            
            
            const categoryClass = this.getCategoryClass(article);
            if (categoryClass) {
              articleCard.classList.add(categoryClass);
            }
            
            
            const addedDate = article.addedAt ? `Added: ${this.formatDate(article.addedAt)}` : "";
            
            
            const cardContent = this.buildCardContent(article, categoryClass, "", addedDate);
            
            
            articleCard.innerHTML = `
              <a href="${article.url}" class="article-card-link" aria-label="Read article: ${article.title}">
                <div class="article-card-content">
                  ${cardContent}
                </div>
              </a>
            `;
            
            
            container.appendChild(articleCard);
            
            
            const removeBtn = articleCard.querySelector(".remove-bookmark");
            if (removeBtn) {
              removeBtn.addEventListener("click", e => this.removeBookmark(e, article.id));
            }
          }
          
          

          getCategoryClass(article) {
            if (!article.categories || article.categories.length === 0) {
              return null;
            }
            
            const firstCategory = article.categories[0].toLowerCase();
            return this.categoryClasses[firstCategory] || null;
          }
          
          

          buildCardContent(article, categoryClass, displayDate, addedDate) {
            
            const cardTagsHTML = this.buildCardTags(article, categoryClass);
            const cardTitleHTML = this.buildCardTitle(article, categoryClass);
            const cardDescriptionHTML = this.buildCardDescription(article, categoryClass);
            const cardAddedDateHTML = addedDate ? `<div class="article-card-added-date"><i class="far fa-calendar-alt" aria-hidden="true"></i> ${addedDate}</div>` : "";
            const cardImageHTML = this.buildCardImage(article, categoryClass);
            
            
            return `
              <div class="article-card-tags">${cardTagsHTML}</div>
              ${cardTitleHTML}
              ${cardDescriptionHTML}
              ${cardAddedDateHTML}
              ${cardImageHTML}
            `;
          }
          
          

          buildCardTags(article, categoryClass) {
            
            let tagSpan = "";
            if (article.categories && article.categories.length) {
              tagSpan = `<span class="article-card-tag">${article.categories[0]}</span>`;
            }
            
            
            const removeButton = `<button class="remove-bookmark" title="Remove bookmark" aria-label="Remove bookmark">
              <i class="fas fa-trash-alt" aria-hidden="true"></i>
            </button>`;
            
            return tagSpan + removeButton;
          }
          
          

          buildCardAuthor(article, categoryClass) {
            if (categoryClass === "has-comments") {
              return ""; 
            } else {
              return article.author
                ? `<div class="article-card-author">By ${article.author}</div>`
                : `<div class="article-card-author">By Anonymous</div>`;
            }
          }
          
          

          buildCardTitle(article, categoryClass) {
            if (categoryClass === "has-comments") {
              return `<h3 class="article-card-title"><span class="quote-mark"></span>${article.title}</h3>`;
            } else {
              return `<h3 class="article-card-title">${article.title}</h3>`;
            }
          }
          
          

          buildCardDescription(article, categoryClass) {
            if (article.description) {
              return `<div class="article-card-description">${article.description}</div>`;
            } else if (categoryClass === "has-comments") {
              return ""; 
            }
            return "";
          }
          
          

          buildCardImage(article, categoryClass) {
            
            if (categoryClass === "has-comments") {
              const featuredImagePath = article.featuredImage || article.image || '/images/authors/default.jpg';
              return `
                <div class="author-profile-container">
                  <img class="author-profile-image" 
                       src="${featuredImagePath}" 
                       alt="${article.author || 'Anonymous'}" 
                       loading="lazy">
                </div>
              `;
            } else {
              
              let showGalleryImage = false;
              if (article.categories && article.categories.length > 0) {
                showGalleryImage = article.categories[0].toLowerCase() === 'gallery';
              }
              const featuredImagePath = article.featuredImage || article.image;
              if (showGalleryImage && featuredImagePath) {
                return `<img class="article-card-image" src="${featuredImagePath}" alt="${article.title}" loading="lazy">`;
              }
            }
            return "";
          }
          
          

          removeBookmark(e, articleId) {
            e.preventDefault(); 
            e.stopPropagation(); 
            
            
            if (!confirm("Are you sure you want to remove this bookmark?")) {
              return;
            }
            
            
            const normalizedArticleId = this.normalizePath(articleId);
            
            
            const bookmarkIndex = this.bookmarks.findIndex(
              item => this.normalizePath(item.id) === normalizedArticleId
            );
            
            if (bookmarkIndex !== -1) {
              
              this.bookmarks.splice(bookmarkIndex, 1);
              
              
              this.saveBookmarks(this.bookmarks);
              
              
              this.renderBookmarks(this.sortSelect.value);
              
              
              if (this.bookmarks.length === 0) {
                this.noBookmarks.style.display = "block";
              }
            }
          }
          
          

          exportBookmarks() {
            if (this.bookmarks.length === 0) {
              alert("You don't have any bookmarks to export.");
              return;
            }
            
            try {
              const today = new Date().toISOString().split('T')[0];
              const filename = `my-bookmarks-${today}.json`;
              
              
              const bookmarksJson = JSON.stringify(this.bookmarks, null, 2);
              const blob = new Blob([bookmarksJson], { type: 'application/json' });
              const url = URL.createObjectURL(blob);
              
              
              const a = document.createElement('a');
              a.href = url;
              a.download = filename;
              document.body.appendChild(a);
              a.click();
              document.body.removeChild(a);
              URL.revokeObjectURL(url);
              
              alert(`${this.bookmarks.length} bookmarks exported successfully!`);
            } catch (error) {
              console.error("Error exporting bookmarks:", error);
              alert("Failed to export bookmarks. Please try again.");
            }
          }
          
          

          importBookmarks(e) {
            const fileInput = e.target;
            const file = fileInput.files[0];
            
            if (!file) {
              return;
            }
            
            
            const reader = new FileReader();
            reader.onload = event => {
              try {
                
                const importedBookmarks = JSON.parse(event.target.result);
                
                
                if (!Array.isArray(importedBookmarks)) {
                  throw new Error("Invalid bookmarks file format");
                }
                
                
                const normalizedImported = importedBookmarks.map(b => {
                  b.id = this.normalizePath(b.id);
                  return b;
                });
                
                
                const existingIds = new Set(this.bookmarks.map(b => this.normalizePath(b.id)));
                
                
                let newCount = 0;
                
                
                normalizedImported.forEach(bookmark => {
                  if (!existingIds.has(bookmark.id)) {
                    this.bookmarks.push(bookmark);
                    existingIds.add(bookmark.id);
                    newCount++;
                  }
                });
                
                
                this.saveBookmarks(this.bookmarks);
                this.renderBookmarks(this.sortSelect.value);
                
                
                if (this.bookmarks.length > 0) {
                  this.noBookmarks.style.display = "none";
                }
                
                
                fileInput.value = '';
                
                
                alert(`Import complete: Added ${newCount} new bookmarks.`);
                
              } catch (error) {
                console.error("Error importing bookmarks:", error);
                alert(`Failed to import bookmarks: ${error.message}`);
              }
            };
            
            reader.readAsText(file);
          }
        }
        
        
        const bookmarksManager = new BookmarksManager();
      });
    </script>

    
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        
        
        
        window.articleMetadataCache = null;
        
        

        window.getArticleMetadata = async function() {
          if (window.articleMetadataCache) {
            return window.articleMetadataCache;
          }
          
          try {
            const response = await fetch('/articles-index.json');
            if (!response.ok) {
              console.error('Failed to fetch article metadata');
              return null;
            }
            
            window.articleMetadataCache = await response.json();
            return window.articleMetadataCache;
          } catch (error) {
            console.error('Error fetching article metadata:', error);
            return null;
          }
        };
        
        
        getArticleMetadata();
      });
    </script>
</div>
        </div>
      </article>
    </div>

    
    <div class="site-footer">
  <div class="footer-container">
    <div class="footer-links">
       
      <div class="site-footer-item">
        <a href="/index.xml" target="_blank" title="RSS Feed">RSS</a>
      </div>
         
      
    </div>
  </div>
</div>
 


<script>
  if (document.body.classList.contains('gordian-body') || 
      window.location.pathname.includes('/gordian/')) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'http:\/\/localhost:1313\/css\/gordian-dark-mode.css';
    document.head.appendChild(link);
  }
</script>


<script>
  if (typeof toggleDarkMode !== 'function') {
    console.log("Defining fallback toggle function");
    
    
    function toggleDarkMode() {
      console.log("Toggle dark mode clicked (inline fallback)");
      
      
      document.body.classList.toggle("dark-mode");
      document.documentElement.classList.toggle("dark-mode");
      
      
      const isGalleryPage = document.body.classList.contains("gallery-body");
      
      
      const isDarkMode = document.body.classList.contains("dark-mode");
      
      
      if (isGalleryPage) {
        localStorage.setItem("darkMode", isDarkMode ? "disabled" : "enabled");
      } else {
        localStorage.setItem("darkMode", isDarkMode ? "enabled" : "disabled");
      }
      
      
      const darkIcons = document.querySelectorAll('.dark-icon');
      const lightIcons = document.querySelectorAll('.light-icon');
      
      darkIcons.forEach(icon => {
        icon.style.display = isDarkMode ? 'none' : 'inline-block';
      });
      
      lightIcons.forEach(icon => {
        icon.style.display = isDarkMode ? 'inline-block' : 'none';
      });
      
      console.log("Dark mode toggled through inline fallback");
    }
    
    
    (function() {
      const preference = localStorage.getItem('darkMode');
      const isGalleryPage = document.body.classList.contains('gallery-body');
      const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      let shouldApplyDarkMode;
      
      if (preference === null) {
        
        shouldApplyDarkMode = systemPrefersDark;
        localStorage.setItem('darkMode', shouldApplyDarkMode ? 'enabled' : 'disabled');
      } else if (isGalleryPage) {
        
        shouldApplyDarkMode = preference === 'disabled';
      } else {
        
        shouldApplyDarkMode = preference === 'enabled';
      }
      
      if (shouldApplyDarkMode) {
        document.body.classList.add('dark-mode');
        document.documentElement.classList.add('dark-mode');
      } else {
        document.body.classList.remove('dark-mode');
        document.documentElement.classList.remove('dark-mode');
      }
      
      
      document.addEventListener('DOMContentLoaded', function() {
        const isDarkMode = document.body.classList.contains('dark-mode');
        const darkIcons = document.querySelectorAll('.dark-icon');
        const lightIcons = document.querySelectorAll('.light-icon');
        
        darkIcons.forEach(icon => {
          icon.style.display = isDarkMode ? 'none' : 'inline-block';
        });
        
        lightIcons.forEach(icon => {
          icon.style.display = isDarkMode ? 'inline-block' : 'none';
        });
      });
    })();
  }
</script>


<script>
  document.addEventListener("DOMContentLoaded", function() {
    
    
    
    if (window.location.hash) {
      setTimeout(function() {
        const targetHash = window.location.hash.substring(1);
        const targetElement = document.getElementById(targetHash);
        if (targetElement) {
          targetElement.scrollIntoView({ behavior: 'smooth' });
        }
      }, 300);
    }
  });
</script>


<script src="http://localhost:1313/js/article-carousel.js" type="text/javascript"></script>

  </body>
</html>
